{% extends "base.html" %}
{% block content %}

<div class="container" id="edit_page">
  <a href="/account/{{account_id}}">Back to Account</a>
  <div class="card row">
    <h4>Edit a Bill</h4>
    <div>
      <form action="/account/{{account_id}}/{{bill.billId}}/edit_bill" method="post" enctype='multipart/form-data'>
            <div class="input-field col s12">
              <input id="bill_title" type="text" value="{{bill.desc}}" name="bill_desc">
              <label for="bill_title" class="active">Bill Title</label>
            </div>
            <div class="input-field col s6">
              <input id="bill_amount" type="text" value="{{bill.amount}}" name="bill_amount">
              <label for="bill_amount" class="active">Bill Amount</label>
            </div>
            <div class="input-field col s6">
              <input id="bill_date" type="date" value="{{bill.date}}" name="bill_date">
              <label for="bill_date" class="active">Bill Date</label>
            </div>
            <div class="col s12 ">
              <button class="btn waves-effect waves-light right btn-update" type="submit" name="action">Update</button>
              <div class="clearfix"></div>
            </div>
            <hr />
      </form>
    </div>
    <div class="uploaded_files">
      <h5 class="subheader"> Uploaded Files </h5>
      {% if bill.files %}
        {% for file in bill.files%}
          <div class="col s12">
            <a class="col s6 filelink" href="{{file.original}}" target="_blank">{{file.filename}}</a>
            <form action="/account/{{account_id}}/{{bill.billId}}/remove_file" method="post">
              <input class="hide" name="file_to_delete" value="{{file.filename}}"/>
              <div class="col s6">
                  <button class="icon-submit" type="submit"><i class="material-icons">delete</i></button>
              </div>
            </form>
          </div>
        {% endfor %}
      {% else %}
      <div>
        <p class="col s12">
          No files to this bill.
        </p>
      </div>
      {% endif %}
    </div>
    <hr />
    <div>
      <h5 class="subheader">Add another file</h5>
      <form action="/account/{{account_id}}/{{bill.billId}}/add_file" method="post" enctype='multipart/form-data'>
        <div class="col s12">
          <div class="row">
            <div class="file_input file-field input-field col s6">
                <div class="btn add_file_btn">
                  <i class="material-icons">add</i>
                  <input type="file" name="filename">
                </div>
                <div class="file-path-wrapper">
                  <input class="file-path validate col s12" type="text">
                </div>
              </div>
              <div class="col s4">
                  <button type="submit" class=" right waves-effect waves-light btn btn-submit" name="action">Add File</button>
              </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


{% endblock %}
